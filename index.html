<script>
    window.onload = loadBaseballData;

    async function loadBaseballData() {
        const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRcPAYbDgrEgCq24g-rkfqk3b3c0v33RpyI-Fv0CaAnShvryaNOknS6l2TNxEec23u1rH1tJSeRD2hu/pub?output=csv";
        
        try {
            const response = await fetch(url);
            const csvData = await response.text();
            
            // 改行でバラバラにする際、余計な空白を消す処理を追加
            const rows = csvData.trim().split('\n');
            let htmlContent = "";

            // 1行目は見出しなので i = 1 から開始
            for (let i = 1; i < rows.length; i++) {
                const columns = rows[i].split(',');
                if (columns.length >= 2) {
                    htmlContent += `
                        <div class="card">
                            <strong>日付：${columns[0].trim()}</strong><br>
                            内容：${columns[1].trim()}
                        </div>`;
                }
            }

            if (htmlContent === "") {
                document.getElementById('data-list').innerHTML = "表示できるデータがありませんでした。";
            } else {
                document.getElementById('data-list').innerHTML = htmlContent;
            }

        } catch (e) {
            console.error(e);
            document.getElementById('data-list').innerHTML = "エラー：読み込みに失敗しました。";
        }
    }

    function showPage(pageId) {
        document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
    }
</script>
